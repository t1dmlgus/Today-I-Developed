## 협력

_협력의 시작은?_

협력의 시작은 메시지를 수신하는 것으로 시작된다.<br>


- 협력은 객체를 설계하기 위한 구체적인 문맥을 제공한다.
- 협력 관계 속에서 객체는 다른 객체에게 무엇을 제공해야하고,
  무엇을 얻어야 하는지 고민해야 한다.


## 책임

### 책임이란 무엇인가

책임 : 협력에 참여하기 위해 객체가 수행하는 행동 <br>

책임이란 객체에 의해 정의되는 응집도 있는 행위의 집합으로 객체가 유지해야 하는 정보와 수행할 수 있는 행동에 대해
개략적으로 서술한 문장이다.

_책임은 객체지향의 핵심이다._

<br>

### 책임 할당


_어떤객체에게 할당할 것인가?_

자율적인 객체를 만드는 가장 기본적인 방법은 <br>
책임을 수행하는 데 필요한 정보를 가장 잘 알고 있는 전문가에게 그 책임을 할당하는 것이다.

크게 보면, 협력은 시스템이 사용자에게 제공하는 기능을 시스템이 담당할 하나의 책임인 것이다.

<br>

_책임을 수행하는 방법은?_

메시지를 수신하는 것으로 시작된다.

**정보 전문가에게 책임을 할당하는 것만으로도 상태와 행동을 함께 가지는 
자율적인 객체를 만들 수 있다.**

1. 메시지를 전송하라
2. 메시지를 처리할 적절한 객체를 선택하라

<br>

### 책임 주도 설계

책임 주도 설계 : 책임을 수행할 적절한 객체를 찾아 책임을 할당하는 방식으로 협력을 설계하는 방법

데이터 주도 설계 : 객체의 상태, 즉 내부 구현에 초점을 맞춘 설계

<br>

### 책임을 할당할 때 고려해야 하는 두가지 요소

#### 메시지가 객체를 결정한다

1. 필요한 메시지를 먼저 할당한다.
2. 메시지를 처리할 객체를 선택한다.

예시 > <br>

- 예매기능을 위해, _예매하라_ 라는 메시지를 필요하다는 결정을 내린 후에,
그 메시지를 수신할 적절한 객체로 *Screening*을 선택했다.

- _가격을 계산하라_ 라는 메시지를 선택한 후에 그 메시지를 수신할 _Movie_ 객체를 선택했다.


장점 > <br>
- 객체가 최소한의 인터페이스를 가질 수 있게 된다.
- 객체는 충분히 추상적인 인터페이스를 가질 수 있게 된다.


#### 행동이 상태를 결정한다

객체가 존재하는 이유는 협력에 참여하기 위함이다. <br>
객체는 협력에 필요한 행동을 제공해야 한다. <br>
따라서, 객체의 행동은 협력에 참여할 수 있는 유일한 방법이다.


_중요한 것은 객체의 상태가 아니라 행동이다._ <br>
_그리고, 그 행동이 객체의 책임이 된다._


<br>

### 역할과 협력

역할에게 책임을 할당한다.

1. 영화를 예매할 수 있는 적절한 역할이 무엇인가 찾는 것이고,
2. 두번째 단계는 역할을 수행할 객체를 선택하는 것이다.

_왜 역할이라는 개념을 이용해서 더 번거롭게 만드는가?_

### 유연하고 재사용 가능한 협력

동일한 책임을 수행하는 역할을 기반으로 두 개의 협력을 하나로 통합할 수 있다.


장점 > <br>

- 불필요한 중복코드 제거
- 변경과 확장이 용이한 유연한 설계(OCP) 

### 객체 대 역할

### 역할과 추상화

### 배우와 배역

